{% extends "base.html" %}
{% block title %}Manage Courses{% endblock %}

{% block content %}
<!-- Search form -->
<form action="{{ url_for('manage_courses.search_courses') }}" method="GET">
  <input type="text" name="query" placeholder="Search course...">
  <button type="submit">Search</button>
</form>

<h1>Manage Courses</h1>

<!-- Add Course Form -->
<form action="{{ url_for('manage_courses.add_course') }}" method="POST">
  <label for="course_name">Course Name:</label>
  <input type="text" id="course_name" name="course_name" required>
  <label for="course_code">Course Code:</label>
  <input type="text" id="course_code" name="course_code" required>
  <label for="description">Description:</label>
  <input type="text"  id="description" name="description">
  <!-- Add more fields if needed -->
  <button type="submit">Add Course</button>
</form>

<!-- List of Courses -->
<h2>Course List</h2>
<table>
  <thead>
    <tr>
      <th>Course Code</th>
      <th>Course Name</th>
      <th>Description</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for course in courses %}
    <tr>
      <td>{{ course.course_code }}</td>
      <td>{{ course.course_name }}</td>
      <td>{{ course.description }}</td>
      <td>
        <a href="{{ url_for('manage_courses.edit_course', course_id=course.course_id) }}">Edit</a>
        <form action="{{ url_for('manage_courses.delete_course', course_id=course.course_id) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this course?');">
          <button type="submit">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/manage_course.css') }}">
{% endblock %}
